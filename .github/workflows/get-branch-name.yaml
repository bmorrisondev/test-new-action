name: get branch name
on:
  workflow_dispatch:
  pull_request: 
    types: [closed]

jobs:
  get_name:
    if: github.event.pull_request.merged == true
    runs-on: ubuntu-latest
    steps:
      - name: checkout
        uses: actions/checkout@v3
      - name: Extract branch name
        shell: bash
        run: echo "branch=$(echo ${GITHUB_REF#refs/heads/})" >> $GITHUB_OUTPUT
        id: extract_branch
      - name: printenv
        run: |
          echo "base branch: ${{ github.event.pull_request.base.label }}"
      - name: Get the new credentials
        run: |
          echo "${{ steps.extract_branch.outputs.branch }}"
